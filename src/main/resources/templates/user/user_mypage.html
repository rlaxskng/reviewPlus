<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" 
                  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>ìœ ì €ì •ë³´</title>
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/user_mypage.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%2210 0 100 100%22><text y=%22.90em%22 font-size=%2290%22>ğŸ¬</text></svg>">
</head>
<body>
<button class="menu-btn" onclick="toggleMenu()">ë©”ë‰´</button>

<div id="menu-list">
	
	<!-- í™ˆ ë°”ë¡œê°€ê¸° ë²„íŠ¼ -->
	<form action="/" method="get" style="margin-bottom:10px;">
	  <button type="submit" class="home-btn">í™ˆ ë°”ë¡œê°€ê¸°</button>
	</form>
	
	  <!-- ë‚´ ì •ë³´ ìˆ˜ì • -->
	  <form action="/UserEditForm" method="Get" style="margin-bottom:10px;">
	  	<button type="submit">ë‚´ ì •ë³´ ìˆ˜ì •</button>
	  </form>
	   <!-- íƒˆí‡´ ë²„íŠ¼ -->
	  <form th:action="@{/UserDelete}" method="post">
	    <button type="submit" onclick="return confirm('ì§€ê¸ˆê¹Œì§€ ì‘ì„±í•œ ì˜í™” ë¦¬ë·° ì¢‹ì•„ìš”ê°€ ì‚­ì œë©ë‹ˆë‹¤.íƒˆí‡´ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')"
	    	style="background-color: red; color: white; border: none; padding: 10px 20px; cursor: pointer;"
	    	    onmouseover="this.style.backgroundColor='red'"
	    	    onmouseout="this.style.backgroundColor='#d34c4c'"
	    >íšŒì› íƒˆí‡´</button>
	    	
	  </form>
	  
</div>

<script>
	function toggleMenu() {
	  const menu = document.getElementById("menu-list");
	  if(menu.style.display === "none" || menu.style.display === "") {
	    menu.style.display = "block";
	  } else {
	    menu.style.display = "none";
	  }
	}
</script>

<div class="profile-main-box">

	<h1>ë§ˆì´í˜ì´ì§€</h1>
	<div class="user-info-outer">
		<div class="user-info-box">
			<table>
				<tr>
					<td>ì´ë©”ì¼: <span sec:authentication="principal.username"></span></td>
				</tr>
				<tr>
					<td>ì´ë¦„: <span sec:authentication="principal.pname"></span></td>
				</tr>
				<tr>
					<td>ë‹‰ë„¤ì„: <span sec:authentication="principal.nickname"></span></td>
				</tr>
				<tr>
					<td>ìƒë…„ì›”ì¼:<span sec:authentication="principal.birthdate"></span></td>
				</tr>
				<tr>
				</tr>
			</table>
		</div>
	</div>
	
	<!-- ì‚¬ìš©ì ì¢‹ì•„ìš” ëª©ë¡ MODAL -->
		<button id="showLikedMoviesBtn" onclick="openLikeModal()">
		    ì¢‹ì•„ìš” ëª©ë¡ ë³´ê¸°
		</button>
		
		<div id="likeModal" class="modal" style="display:none;">
		
			<div class ="modal-content">
					<span class = "close-btn">ë‹«ê¸°</span>
					<h3>
						<span sec:authentication="principal.nickname"></span>ë‹˜ì˜ ì¢‹ì•„ìš” ëª©ë¡ 
					</h3>
					
					<!-- ì‚¬ìš©ì ì¢‹ì•„ìš” ëª©ë¡ë³´ì—¬ì£¼ëŠ” ì»¨í…Œì´ë„ˆ -->
					<div id="likedMoviesContainer">
					</div>		
					
					<div id="emptyMessage" style="display:none;">
						<p>ì•„ì§ ì¢‹ì•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
					</div>
					
			</div>
		</div>
	<!-- ì‚¬ìš©ì ë¦¬ë·° ëª©ë¡ MODAL -->
	<button id="showReviewMoviesBtn" onclick="openReviewModal()">
	    ë¦¬ë·° ëª©ë¡ ë³´ê¸°
	</button>
	<div id="ReviewModal" class="modal" style="display:none;">
	
		<div class ="modal-content-Review">
			<span class = "close-btn2">ë‹«ê¸°</span>
			<h3><span sec:authentication="principal.nickname"></span>ë‹˜ì˜ ë¦¬ë·° ëª©ë¡</h3>
			
			<!-- ì‚¬ìš©ì ì¢‹ì•„ìš” ëª©ë¡ ì»¨í…Œì´ë„ˆ -->
			<div id="ReviewMoviesContainer"></div>		
		
				<div id="emptyReviewMessage" style="display:none;">
					<p>ì•„ì§ ë“±ë¡ëœ ë¦¬ë·°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
				</div>
		</div>
	</div>
	
	
</div>

<!------------------------------------------------------------------>



<!-- index/index íŒŒì¼ì— ìˆëŠ” "footer" íƒœê·¸ë¥¼ ê°€ì ¸ì˜´  -->
<div th:insert="index/index :: footer"></div>

<!-- ì‚¬ìš©ì ì¢‹ì•„ìš” ëª©ë¡.js-->
<script src = "js/user_LikeListBtn.js" ></script>

<!-- ë¦¬ë·° ì‘ì„± ëª©ë¡.js -->
<script src = "js/user_ReviewListBtn.js"></script>

</body>
</html>
