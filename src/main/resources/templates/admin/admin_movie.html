<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" 
                  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/admin.css">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/table-scroll.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%2210 0 100 100%22><text y=%22.90em%22 font-size=%2290%22>ğŸ¬</text></svg>"></link>
    <title>ë¦¬ë·°í”ŒëŸ¬ìŠ¤ ê´€ë¦¬ì</title>
</head>
<body>
	<div id="header" th:fragment = "header">
		<div class="nav">
			<ul class="nav1">
				<li><a href="/"><img src="/images/logo.png" alt="logo" class="logoimg"></a></li>
				<li><a href="/Admin/AdminHome">ê´€ë¦¬ì í™ˆ</a></li>
				<li><a href="/logout">ë¡œê·¸ì•„ì›ƒ</a></li>
			</ul>
			<ul class="nav2">
				<li><a href="/Admin/AdminUser">íšŒì›ê´€ë¦¬</a></li>
				<li><a href="/Admin/AdminMovie">ì˜í™”ê´€ë¦¬</a></li>
				<li><a href="/Admin/AdminReview">ë¦¬ë·°ê´€ë¦¬</a></li>
			</ul>
		</div>
	</div>
	<div class="list">
		<div class="list-title">ì „ì²´ íšŒì› ì˜í™” ì¢‹ì•„ìš” ëª©ë¡</div>
		<div class="searchbar-container">
			<form action="/Admin/AdminMovie" method = "get">			
				<input type="search" name ="title" placeholder="ì˜í™” ì œëª© ì…ë ¥">
				<button class="search-btn" type="submit">ê²€ìƒ‰</button>
			</form>
		</div>
			<table class="table" >
			<thead>
				<tr>
					<th>ì˜í™” ID</th>
					<th>ì˜í™” ì œëª©</th>
					<th>ì˜í™” ì„¤ëª…</th>
					<th>í‰ì </th>
					<th>ê°œë´‰ì¼</th>
				</tr>
			</thead>
			<tbody>	
				<tr th:each = "mlist : ${moviesList}"
					th:data-url ="@{/Admin/AdminMovieDetail/{apiId}(apiId=${mlist.apiId})}"
					onclick="UserDetailLink(this);" id = "UserList">
					<td th:text = "${mlist.apiId}"></td>
					<td th:text = "${mlist.title}"></td>
					<td th:text = "${#strings.isEmpty(mlist.overview) ? 'ì¤„ê±°ë¦¬ì—†ìŒ' : mlist.overview}"></td>
					<td th:text = "${mlist.ourAverageRating}"></td>
					<td th:text = "${mlist.releaseDate}"></td>
				</tr>
			</tbody>	
			</table>
	</div>
	
	<script>
			function UserDetailLink(rowElement){
				const url = rowElement.getAttribute('data-url');
				if(url){
					window.location.href = url;
				}
			}
	</script>	
	
</body>
</html>