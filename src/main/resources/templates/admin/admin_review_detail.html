<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" 
                  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/admin.css">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%2210 0 100 100%22><text y=%22.90em%22 font-size=%2290%22>­Ъјг</text></svg>"></link>
    <title>вдгви░ьћївЪгВіц Ж┤ђвдгВъљ</title>
   
</head>

<body>
	<div id="header" th:fragment = "header">
		<div class="nav">
			<ul class="nav1">
				<li><a href="/"><img src="/images/logo.png" alt="logo" class="logoimg"></a></li>
				<li><a href="/Admin/AdminHome">Ж┤ђвдгВъљ ьЎѕ</a></li>
				<li><a href="/logout">вАюЖиИВЋёВЏЃ</a></li>
			</ul>
			<ul class="nav2">
				<li><a href="/Admin/AdminUser">ьџїВЏљЖ┤ђвдг</a></li>
				<li><a href="/Admin/AdminMovie">ВўЂьЎћЖ┤ђвдг</a></li>
				<li><a href="/Admin/AdminReview">вдгви░Ж┤ђвдг</a></li>
			</ul>
		</div>
	</div>
	<div class="list">
		<div th:if="${sucReviewUpdate}">
		    <p th:text="${sucReviewUpdate}"></p>
		</div>
		<!-- вдгви░ ВаЋв│┤ -->	
		<div class="list-title">вдгви░ ВаЋв│┤</div>
			<form action="">
				<table class="detail-table">
					<tr>
						<td class="label-td"><label class="labelname">вдгви░ в▓ѕьўИ</label></td>
						<td><input type="text" class="inputbar" th:value="${urd.reviewId}" readonly></td>
					</tr>
					<tr>
						<td class="label-td"><label class="labelname">вІЅвёцВъё</label></td>
						<td><input type="text" class="inputbar" th:value="${urd.nickname}" readonly></td>
					</tr>
					<tr>
						<td class="label-td"><label class="labelname">ВўЂьЎћ ВаювфЕ</label></td>
						<td><input type="text" class="inputbar" th:value="${urd.title}" readonly></td>
					</tr>
					<tr>
						<td class="label-td"><label class="labelname">вдгви░ вѓ┤ВџЕ</label></td>
						<td><textarea class="textarea" th:text="${urd.comment}" readonly></textarea>
					</tr>
					<tr>
						<td class="label-td"><label class="labelname">ьЈЅВаљ</label></td>
						<td><input type="text" class="inputbar" th:value="${urd.rating}" readonly></td>
					</tr>
					<tr>
						<td class="label-td"><label class="labelname">вЊ▒вАЮВЮ╝</label></td>
						<td><input type="text" class="inputbar" th:value="${urd.regDate}" readonly></td>
					</tr>
				</table>
				<div class="btn-detail-container">
					<a th:href="@{/Admin/deleteReview(reviewId=${urd.reviewId})}" 
					   onclick="return confirm('вдгви░вЦ╝ ВѓГВаюьЋЕвІѕвІц.');"
					   class="btn-detail">
					    ВѓГВаю
					</a>
					<button type="button" class="btn-detail" onclick="openModal('editUserReviewModal')">ВѕўВаЋ</button>
				</div>
			</form>
	</div>
		<!-- ьџїВЏљ вдгви░ ВѕўВаЋ вфевІг  -->
		<div id="editUserReviewModal" class="modal">
		    <div class="modal-content">
		        <span class="close-button" onclick="closeModal('editUserReviewModal')">вІФЖИ░</span>
		        <h2>ьџїВЏљ вдгви░ ВѕўВаЋ</h2>
		        <form action = "/Admin/userReviewEdit" method = "POST">
		        	<input type = "hidden" name = "reviewId" th:value ="${urd.reviewId}">
		        	
		            <label for="editTitle">ВўЂьЎћВаювфЕ:</label><br>
		            <input type="text" id="editTitle" name = "title" th:value="${urd.title}"><br>
		            
		            <label for="editComment">вдгви░вѓ┤ВџЕ:</label><br>
		            <textarea id="editComment" name = "comment" th:text ="${urd.comment}"></textarea><br>
		            
		            <label for="editRating">ьЈЅВаљ:</label><br>
		            <input type="text" id="editRating" name = "rating" th:value="${urd.rating}"><br>
		            
		            <button type="submit" class="btn-modal-edit">ВѕўВаЋ</button>
		        </form>
		    </div>
		</div>
	
	
<script>
    // вфевІг ВЌ┤ЖИ░
    function openModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.style.display = 'block';
        }
    }

    // вфевІг вІФЖИ░
    function closeModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.style.display = 'none';
        }
    }

    // вфевІг в░ќВЮё ьЂ┤вдГьЋ┤вЈё вІФьъў
    window.onclick = function(event) {
        const modal = document.getElementById('editUserReviewModal');
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    }
</script>	
	
	
</body>
</html>